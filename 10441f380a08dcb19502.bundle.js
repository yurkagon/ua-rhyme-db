(self.webpackChunkua_rhyme_db=self.webpackChunkua_rhyme_db||[]).push([[998],{6308:(r,n,e)=>{var t={"./гуділи":465,"./депозитний вклад":9135,"./депутату":4533,"./доби":6470,"./дороги":6662,"./замело країну":7925,"./здохли":50,"./крематорій":6594,"./мозги":8116,"./пацани":1738,"./половина":81,"./почорніли":3078,"./процент":6394,"./роботи":4755,"./тепло барана":7956,"./тобі":2769,"./хлам":8739,"./шум":7737};function a(r){var n=o(r);return e(n)}function o(r){if(!e.o(t,r)){var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}return t[r]}a.keys=function(){return Object.keys(t)},a.resolve=o,r.exports=a,a.id=6308},4762:(r,n,e)=>{var t={"./glava941_glava94_Глава 94_Твоя черга":8921,"./glava942_glava94_Глава 94_Дякую":6733};function a(r){var n=o(r);return e(n)}function o(r){if(!e.o(t,r)){var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}return t[r]}a.keys=function(){return Object.keys(t)},a.resolve=o,r.exports=a,a.id=4762},647:(r,n,e)=>{"use strict";e.d(n,{Z:()=>i});var t=e(8081),a=e.n(t),o=e(3645),s=e.n(o)()(a());s.push([r.id,".search-form{outline:none !important}.search-form *:focus{box-shadow:none}",""]);const i=s},8602:(r,n,e)=>{"use strict";e.d(n,{Z:()=>i});var t=e(8081),a=e.n(t),o=e(3645),s=e.n(o)()(a());s.push([r.id,".search-page{display:flex;justify-content:space-between;padding-top:30px;padding:2rem}.search-page .left{flex:6}.search-page .right{flex:4}.search-page .form-wrapper{max-width:50%;margin-bottom:40px}.search-page .form-wrapper .search-page-form{width:300px}.search-page .form-wrapper .search-page-form input{border-color:var(--color-primary)}.search-page .form-wrapper .search-page-form input:focus{outline:none}.search-page .form-wrapper .search-page-form .search-button{color:var(--color-primary);border-color:var(--color-primary)}.search-page .form-wrapper .search-page-form .search-button:hover{color:#fff;background-color:rgba(7,123,173,.8)}.search-page .mention-card{min-width:430px;color:var(--color-primary);border-color:var(--color-primary)}.search-page .mention-card .card-text{font-size:14px}.search-page .rhymes{display:flex;flex-wrap:wrap}.search-page .rhymes .rhyme-element{margin-right:10px;margin-bottom:10px;align-self:flex-end;color:var(--color-primary);border-color:var(--color-primary)}.search-page .rhymes .rhyme-element:focus{box-shadow:none}.search-page .rhymes .rhyme-element:hover{color:#fff;background-color:rgba(7,123,173,.8)}",""]);const i=s},7547:(r,n,e)=>{"use strict";e.d(n,{Z:()=>j});var t=e(5893),a=e(7536),o=e(9250),s=e(512),i=e(3379),c=e.n(i),l=e(7795),u=e.n(l),f=e(569),p=e.n(f),h=e(3565),m=e.n(h),v=e(9216),d=e.n(v),g=e(4589),y=e.n(g),x=e(647),b={};b.styleTagTransform=y(),b.setAttributes=m(),b.insert=p().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=d(),c()(x.Z,b),x.Z&&x.Z.locals&&x.Z.locals;var w=function(){return w=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a]);return r},w.apply(this,arguments)};const j=function(r){var n=r.className,e=(0,o.UO)().phrase,i=(0,a.cI)(),c=i.register,l=i.handleSubmit,u=(0,o.s0)();return(0,t.jsx)("form",{onSubmit:l((function(r){var n=r.search.trim().toLowerCase();u("/search/".concat(encodeURIComponent(n)))})),className:(0,s.Z)("search-form form text-center",n),children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("input",w({},c("search",{required:!0,value:e,minLength:2}),{className:"form-control",placeholder:"Ножиці"})),(0,t.jsx)("button",{type:"submit",className:"search-button btn btn-outline-warning",children:"Знайти"})]})})}},1998:(r,n,e)=>{"use strict";e.r(n),e.d(n,{Component:()=>E});var t=e(5893),a=e(7294),o=e(9250),s=e(7547),i=e(6486),c=e.n(i),l=function(r){return r.trim().toLowerCase().replace("'","").replace("’","").replace('"',"").replace("`","").replace("'","").replace("-"," ")},u=function(r){return r.charAt(0).toUpperCase()+r.slice(1)},f=function(){return f=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a]);return r},f.apply(this,arguments)};const p=function(){function r(){}return r.formatFolderData=function(r){var n=r.keys(),e=n.map(r);return n.reduce((function(r,n,t){var a;return f(((a={})[n.replace("./","")]=e[t],a),r)}),{})},r.loadRhymeFolder=function(){var r=e(6308);return this.formatFolderData(r)},r.loadSongList=function(){return e(127).split("\n")},r.loadSongByUrl=function(r){return n=this,e=void 0,a=function(){var n,e,t,a;return function(r,n){var e,t,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(e=1,t&&(a=2&i[0]?t.return:i[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,i[1])).done)return a;switch(t=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,t=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(r,s)}catch(r){i=[6,r],t=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(o){switch(o.label){case 0:return[4,fetch(r)];case 1:return[4,o.sent().text()];case 2:return n=o.sent(),e=n.split("###"),t=e[0],a=e[1],[2,{text:t.trim(),info:a.trim().split("\n").reduce((function(r,n){var e,t=n.split(":"),a=t[0],o=t[1];return f(f({},r),((e={})[a]=o.trim(),e))}),{})}]}}))},new((t=void 0)||(t=Promise))((function(r,o){function s(r){try{c(a.next(r))}catch(r){o(r)}}function i(r){try{c(a.throw(r))}catch(r){o(r)}}function c(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(r){r(e)}))).then(s,i)}c((a=a.apply(n,e||[])).next())}));var n,e,t,a},r}();var h;!function(r){r.r="r"}(h||(h={}));var m=function(){function r(){}return r.load=function(){this.loadRhymeData(),this.loadSongList()},r.getSong=function(r){return c().find(this.songList,{id:r})},r.loadFullSongData=function(r){return n=this,e=void 0,a=function(){var n,e;return function(r,n){var e,t,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(c){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(e=1,t&&(a=2&i[0]?t.return:i[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,i[1])).done)return a;switch(t=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,t=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=n.call(r,s)}catch(r){i=[6,r],t=0}finally{e=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(t){switch(t.label){case 0:return(n=this.getSong(r)).data?[2,n]:[4,p.loadSongByUrl(n.url)];case 1:return e=t.sent(),n.data=e,[2,n]}}))},new((t=void 0)||(t=Promise))((function(r,o){function s(r){try{c(a.next(r))}catch(r){o(r)}}function i(r){try{c(a.throw(r))}catch(r){o(r)}}function c(n){var e;n.done?r(n.value):(e=n.value,e instanceof t?e:new t((function(r){r(e)}))).then(s,i)}c((a=a.apply(n,e||[])).next())}));var n,e,t,a},r.loadSongList=function(){this.songList=p.loadSongList().map((function(r){var n=r.split("_");return{id:n[0],authorId:n[1],author:n[2],name:n[3],url:e(4762)("./".concat(r))}}))},r.loadRhymeData=function(){var r=this,n=p.loadRhymeFolder();this.rhymeData=c().map(n,(function(n,e){return{key:e,rhymes:n.split("\n").filter(Boolean).map((function(n){return r.formatRawRhyme(n)}))}}))},r.formatRawRhyme=function(r){var n=r.split("#"),e=n[0],t=n.slice(1),a=e.split("/"),o=a[0],s=a.slice(1),i=this.parseRhymeInfoRaw(t);return{label:u(o.trim()),value:l(o),alternatives:s.map((function(r){return l(r)})),extra:i}},r.parseRhymeInfoRaw=function(r){var n={};return r.forEach((function(r){var e=r.split(":"),t=e[0],a=e[1];if(t===h.r){var o=a.split(",").map((function(r){var n=r.split(/\s*\[([^\]]*)\]\s*/).filter(Boolean),e=n[0],t=n[1].split("-"),a=t[0],o=t[1];return{songId:e,range:{from:Number(a),to:Number(o)}}}));Object.assign(n,{mentions:o})}})),n},r.getRhymeData=function(){return this.rhymeData},r.getSongList=function(){return this.songList},r}();m.load();const v=m;var d=function(r,n,e){if(e||2===arguments.length)for(var t,a=0,o=n.length;a<o;a++)!t&&a in n||(t||(t=Array.prototype.slice.call(n,0,a)),t[a]=n[a]);return r.concat(t||Array.prototype.slice.call(n))};const g=function(){function r(){}return r.findRhymes=function(r){var n=l(r),e=this.find(n),t=c().groupBy(e,(function(r){return r.value===n||r.alternatives.includes(n)?"target":"rhymes"}));return{target:t.target,targetMentions:c().chain(t.target).map((function(r){var n;return null===(n=r.extra)||void 0===n?void 0:n.mentions})).compact().flatten().uniqBy((function(r){return"".concat(r.songId,"-").concat(r.range.from,"-").concat(r.range.to)})).value(),rhymes:c().uniqBy(t.rhymes,"value")}},r.find=function(r,n){var e=this;void 0===n&&(n=[]);var t=v.getRhymeData(),a=c().chain(t).filter((function(n){return n.rhymes.some((function(n){return e.compareRhymes(n,r)}))})).map("rhymes").flatten().value(),o=d(d([],n,!0),a,!0);if(r.includes(" ")){var s=this.removeFirstWord(r);return this.find(s,o)}return o},r.compareRhymes=function(r,n){return r.value===n||!!r.alternatives.includes(n)},r.removeFirstWord=function(r){var n=r.split(" ");return n.shift(),n.join(" ")},r}();var y=function(){return y=Object.assign||function(r){for(var n,e=1,t=arguments.length;e<t;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a]);return r},y.apply(this,arguments)};const x=function(r){var n=r.data,e=(0,a.useState)((function(){return v.getSong(n.songId)})),o=e[0],s=e[1];(0,a.useEffect)((function(){v.loadFullSongData(n.songId).then((function(r){s(y({},r))}))}),[n]);var i=Boolean(null==o?void 0:o.data),c=(0,a.useMemo)((function(){return i?o.data.text.split("\n").slice(n.range.from-1,n.range.to):null}),[i,n]);return(0,t.jsxs)("div",{className:"mention-card card mb-3",children:[(0,t.jsxs)("div",{className:"card-header",children:[o.author," - ",o.name]}),(0,t.jsxs)("div",{className:"card-body",children:[i&&c.map((function(r,n){return(0,t.jsx)("p",{className:"card-text",children:r},n)})),!i&&(0,t.jsx)("div",{className:"spinner-grow text-primary",role:"status",children:(0,t.jsx)("span",{className:"sr-only",children:"Loading..."})})]})]})};var b=e(3379),w=e.n(b),j=e(7795),N=e.n(j),k=e(569),S=e.n(k),_=e(3565),O=e.n(_),R=e(9216),D=e.n(R),L=e(4589),Z=e.n(L),I=e(8602),C={};function E(){var r=(0,o.UO)().phrase,n=(0,o.s0)(),e=(0,a.useMemo)((function(){return g.findRhymes(r)}),[r]),i=e.rhymes,c=e.targetMentions;return(0,t.jsxs)("main",{className:"search-page flex-column flex-md-row",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsxs)("div",{className:"form-wrapper",children:[(0,t.jsx)("h5",{className:"",children:"Рифмопошук"}),(0,t.jsx)(s.Z,{className:"search-page-form"},r)]}),(0,t.jsx)("div",{className:"rhymes",children:i.map((function(r,e){return(0,t.jsx)("button",{onClick:function(){return n("/search/".concat(r.value))},className:"rhyme-element btn btn-outline-primary",children:r.label},e)}))})]}),(0,t.jsx)("div",{className:"right",children:c.map((function(r,n){return(0,t.jsx)(x,{data:r},n)}))})]})}C.styleTagTransform=Z(),C.setAttributes=O(),C.insert=S().bind(null,"head"),C.domAPI=N(),C.insertStyleElement=D(),w()(I.Z,C),I.Z&&I.Z.locals&&I.Z.locals},8921:(r,n,e)=>{"use strict";r.exports=e.p+"8a771cfd432cdc0f0a1d"},6733:(r,n,e)=>{"use strict";r.exports=e.p+"d70c9856991e6805c942"},465:r=>{"use strict";r.exports="Гудіні/Гарі Гудіні/Гаррі Гудіні#r:glava941[2-3]\nу ділі/у діло/ділі#r:glava941[2-3]\nгуділи/гуділа/гуділо\nгалімо\n"},9135:r=>{"use strict";r.exports="депозитний вклад#r:glava941[20-21]\nтусити вхлам#r:glava941[20-21]\nпаразитам дав\nпаразитів вам\n"},4533:r=>{"use strict";r.exports="депутату/депутат#r:glava941[18-19]\nде був тато#r:glava941[18-19]\nяк то знати\n"},6470:r=>{"use strict";r.exports="доби/доба#r:glava941[6-7]\nдобив#r:glava941[6-7]\nробив\nлюбив\nкрутив\nкормив\n"},6662:r=>{"use strict";r.exports="дороги/з дороги/дорога#r:glava941[24-25],glava941[56-57]\nдохід вам\nкоробить\nздорові#r:glava941[24-25]\nроги#r:glava941[56-57]\nпороги\n"},7925:r=>{"use strict";r.exports="замело країну#r:glava941[44-45]\nзад вело наївно#r:glava941[44-45]\n"},50:r=>{"use strict";r.exports="здохли/здохни#r:glava941[16-17]\nсто хвиль#r:glava941[16-17]\nсохни/сохне\nлох він\n"},6594:r=>{"use strict";r.exports="крематорій#r:glava941[54-55]\nвкрадем теорій/крадій теорій#r:glava941[54-55]\nтеорій#r:glava941[54-55]\nсанаторій\nмараторій\nалегорій\n"},8116:r=>{"use strict";r.exports="мозги/мозгів#r:glava941[4-5]\nзнов він/знову він\nноски/носків#r:glava941[4-5]\nво скрін\nкуски\n"},1738:r=>{"use strict";r.exports="пацани/пацана#r:glava941[52-53]\nціни/ціна#r:glava941[52-53]\nвцілів\n"},81:r=>{"use strict";r.exports="половина#r:glava941[28-31]\nпо новинам/новина/новини#r:glava941[28-31]\nповинна/повинні#r:glava941[28-31]\nподали нам#r:glava941[28-31]\nновий нам\nгорить там\n"},3078:r=>{"use strict";r.exports="почорніли#r:glava941[14-15]\nпочерк вмілий#r:glava941[14-15]\nпочом нині\n"},6394:r=>{"use strict";r.exports="процент#r:glava941[10-11]\nпро це#r:glava941[10-11]\nдоцент\nза цент\n"},4755:r=>{"use strict";r.exports="роботи#r:glava941[58-61]\nтурботи/торботи#r:glava941[58-61]\nбутерброди/бутерброд#r:glava941[58-61]\nкурорти#r:glava941[58-61]\n"},7956:r=>{"use strict";r.exports="тепло барана#r:glava941[48-49]\nтипова рана#r:glava941[48-49]\nтепер навалим\n"},2769:r=>{"use strict";r.exports="тобі#r:glava941[10-11]\nдебіл#r:glava941[10-11]\nде він\n"},8739:r=>{"use strict";r.exports="вклад#r:glava941[20-21]\nхлам/вхлам/в хлам#r:glava941[20-21]\nгад\nвклав\nсклав\nклад\nсклад\nккал\nхам\n"},7737:r=>{"use strict";r.exports="шум#r:glava941[38-39]\nспішу#r:glava941[38-39]\nчув\nЩур\nЧмут\nпишу\n"},127:r=>{"use strict";r.exports="glava941_glava94_Глава 94_Твоя черга\nglava942_glava94_Глава 94_Дякую"}}]);