"use strict";(self.webpackChunkua_rhyme_db=self.webpackChunkua_rhyme_db||[]).push([[544],{647:(r,e,n)=>{n.d(e,{Z:()=>c});var t=n(8081),a=n.n(t),o=n(3645),s=n.n(o)()(a());s.push([r.id,".search-form{outline:none !important}.search-form *:focus{box-shadow:none}",""]);const c=s},8602:(r,e,n)=>{n.d(e,{Z:()=>c});var t=n(8081),a=n.n(t),o=n(3645),s=n.n(o)()(a());s.push([r.id,".search-page{display:flex;justify-content:space-between;padding-top:30px;padding:2rem}.search-page .left{flex:6}.search-page .right{flex:4}.search-page .form-wrapper{max-width:50%;margin-bottom:40px}.search-page .form-wrapper .search-page-form{width:300px}.search-page .form-wrapper .search-page-form input{border-color:var(--color-primary)}.search-page .form-wrapper .search-page-form input:focus{outline:none}.search-page .form-wrapper .search-page-form .search-button{color:var(--color-primary);border-color:var(--color-primary)}.search-page .form-wrapper .search-page-form .search-button:hover{color:#fff;background-color:rgba(7,123,173,.8)}.search-page .mention-card{color:var(--color-primary);border-color:var(--color-primary);cursor:pointer;transition:transform .2s,box-shadow .2s}.search-page .mention-card .card-text{font-size:14px}.search-page .mention-card:hover{transform:translateY(-5px);box-shadow:0 4px 8px rgba(0,0,0,.1)}.search-page .rhymes{display:flex;flex-wrap:wrap}.search-page .rhymes .rhyme-element{margin-right:10px;margin-bottom:10px;align-self:flex-end;color:var(--color-primary);border-color:var(--color-primary)}.search-page .rhymes .rhyme-element::first-letter{text-transform:capitalize}.search-page .rhymes .rhyme-element:focus{box-shadow:none}.search-page .rhymes .rhyme-element:hover{color:#fff;background-color:rgba(7,123,173,.8)}.search-page .rhymes .rhyme-element.secondary{color:#ff4500;border-color:#ff4500}.search-page .rhymes .rhyme-element.secondary:hover{color:#fff;background-color:rgba(255,69,0,.8)}",""]);const c=s},7547:(r,e,n)=>{n.d(e,{Z:()=>j});var t=n(5893),a=n(7536),o=n(9250),s=n(512),c=n(3379),i=n.n(c),l=n(7795),u=n.n(l),h=n(569),f=n.n(h),m=n(3565),p=n.n(m),d=n(9216),g=n.n(d),y=n(4589),v=n.n(y),b=n(647),x={};x.styleTagTransform=v(),x.setAttributes=p(),x.insert=f().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=g(),i()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals;var w=function(){return w=Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r},w.apply(this,arguments)};const j=function(r){var e=r.className,n=(0,o.UO)().phrase,c=(0,a.cI)(),i=c.register,l=c.handleSubmit,u=(0,o.s0)();return(0,t.jsx)("form",{onSubmit:l((function(r){var e=r.search.trim().toLowerCase();u("/search/".concat(encodeURIComponent(e)))})),className:(0,s.Z)("search-form form text-center",e),children:(0,t.jsxs)("div",{className:"input-group",children:[(0,t.jsx)("input",w({},i("search",{required:!0,value:n,minLength:2}),{className:"form-control",placeholder:"Ножиці"})),(0,t.jsx)("button",{type:"submit",className:"search-button btn btn-outline-warning",children:"Знайти"})]})})}},8544:(r,e,n)=>{n.r(e),n.d(e,{Component:()=>U});var t=n(5893),a=n(7294),o=n(9250),s=n(7547),c=n(6486),i=n.n(c),l=n(8593),u=n(3089),h=function(){return h=Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r},h.apply(this,arguments)},f=function(r,e,n){if(n||2===arguments.length)for(var t,a=0,o=e.length;a<o;a++)!t&&a in e||(t||(t=Array.prototype.slice.call(e,0,a)),t[a]=e[a]);return r.concat(t||Array.prototype.slice.call(e))};const m=function(){function r(){}return r.findRhymes=function(r){return f(f([],this.findByEnd(r),!0),this.findByStart(r),!0)},r.findByStart=function(r){return this.find(r,!1)},r.findByEnd=function(r){return this.find(r,!0)},r.find=function(e,n){if(void 0===n&&(n=!0),!e||"string"!=typeof e)return[];var t=e.replace(" ","").replace(/[`~!@#$%^&*()_|+\-=?;:'",.<>\{\}\[\]\\\/]/gi,"");if(t.length<1)return[];for(var a=[],o=r.parseString(t),s=r.getRegExp(o,2,n),c=0,i=u.Z.getRhymeWords();c<i.length;c++){var l=i[c],f=l.label.trim();s.test(f)&&f.toLowerCase()!==t.toLowerCase()&&a.push(h(h({},l),{algorithmic:!0}))}return a},r.getRegExp=function(r,e,n){void 0===e&&(e=1),void 0===n&&(n=!0);for(var t,a=[],o=[],s=f([],r,!0).reverse(),c=0;c<e;c++)a.push(c);for(var i=0,l=a;i<l.length;i++){var u=l[i];o.push(n?s[u]:r[u])}return n&&(o=o.reverse()),t=n?o.join("")+"$":"^"+o.join(""),new RegExp(t,"iu")},r.parseString=function(e){var n="",t={},a=r.mbStrlen(e),o=e.split("");if(o.length<1)return[];for(var s=0;s<o.length;s++){for(var c=o[s],i=!1,l=0,u=Object.keys(r.GROUPS);l<u.length;l++){var h=u[l];if(r.GROUPS[h].includes(c.toLowerCase())){t[s]=r.GROUPS_IDS[h],i=!0;break}}i||(t[s]=o[s])}for(var f=0,m=Object.keys(t);f<m.length;f++){var p=m[f],d=t[+p],g=a===+p+1?t[+p]:t[+p+1];d-g==0&&g==r.GROUPS_IDS.vowels?n+=o[p]+(a!==+p+1?"-":""):!r.isNumeric(g)||d-g<=0?n+=o[+p]:n+=o[+p]+"-"}return n.split("-")},r.mbStrlen=function(r){return r.replace(/[\u{FE00}-\u{FE0F}]/gu,"").length},r.isNumeric=function(r){return!isNaN(r-parseFloat(r))},r.GROUPS={vowels:["а","е","є","и","і","о","у","ю","я","ї"],consonantsSonorousOnly:["л","м","н","р","й"],consonantsSonorous:["б","в","г","д","з","ж"],consonantsMuffled:["к","п","с","ф","т","ш","щ","х","ц","ч"]},r.GROUPS_IDS={vowels:4,consonantsSonorousOnly:3,consonantsSonorous:2,consonantsMuffled:1},r}();var p=function(r,e,n){if(n||2===arguments.length)for(var t,a=0,o=e.length;a<o;a++)!t&&a in e||(t||(t=Array.prototype.slice.call(e,0,a)),t[a]=e[a]);return r.concat(t||Array.prototype.slice.call(e))};const d=function(){function r(){}return r.findRhymes=function(r){var e=m.findRhymes(r),n=(0,l.Mr)(r),t=this.find(n),a=i().isEmpty(t)?{target:[],rhymes:[]}:i().groupBy(t,(function(r){return r.value===n||r.alternatives.includes(n)?"target":"rhymes"}));return{target:a.target,targetMentions:i().chain(a.target).map((function(r){var e;return null===(e=r.extra)||void 0===e?void 0:e.mentions})).compact().flatten().uniqBy((function(r){return"".concat(r.songId,"-").concat(r.range.from,"-").concat(r.range.to)})).value(),rhymes:i().uniqBy(p(p([],a.rhymes,!0),e,!0),"label")}},r.find=function(r,e){var n=this;void 0===e&&(e=[]);var t=u.Z.getRhymeData(),a=i().chain(t).filter((function(e){return e.rhymes.some((function(e){return n.compareRhymes(e,r)}))})).map("rhymes").flatten().value(),o=p(p([],e,!0),a,!0);if(r.includes(" ")){var s=this.removeFirstWord(r);return this.find(s,o)}return o},r.compareRhymes=function(r,e){return r.value===e||!!r.alternatives.includes(e)},r.removeFirstWord=function(r){var e=r.split(" ");return e.shift(),e.join(" ")},r}();var g=n(512),y=function(){return y=Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r},y.apply(this,arguments)};const v=function(r){var e=r.data,n=r.onClick,o=(0,a.useState)((function(){return u.Z.getSong(e.songId)})),s=o[0],c=o[1];(0,a.useEffect)((function(){u.Z.loadFullSongData(e.songId).then((function(r){c(y({},r))}))}),[e]);var i=Boolean(null==s?void 0:s.data),l=(0,a.useMemo)((function(){return i?s.data.text.split("\n").slice(e.range.from-1,e.range.to):null}),[i,e]);return i?(0,t.jsxs)("div",{className:"mention-card card mb-3",onClick:n,children:[(0,t.jsxs)("div",{className:"card-header",children:[s.author," - ",s.name]}),(0,t.jsx)("div",{className:"card-body",children:i&&l.map((function(r,e){return(0,t.jsx)("p",{className:(0,g.Z)("card-text",r.includes("[")&&"text-primary-italic"),children:r},e)}))})]}):null};var b=n(3379),x=n.n(b),w=n(7795),j=n.n(w),S=n(569),N=n.n(S),O=n(3565),R=n.n(O),Z=n(9216),k=n.n(Z),C=n(4589),I=n.n(C),E=n(8602),P={};function U(){var r=(0,o.UO)().phrase,e=(0,o.s0)(),n=(0,a.useMemo)((function(){return d.findRhymes(r)}),[r]),c=n.rhymes,i=n.targetMentions;return(0,t.jsxs)("main",{className:"search-page flex-column flex-md-row",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsxs)("div",{className:"form-wrapper",children:[(0,t.jsx)("h5",{className:"",children:"Рифмопошук"}),(0,t.jsx)(s.Z,{className:"search-page-form"},r)]}),(0,t.jsx)("div",{className:"rhymes",children:c.map((function(r,n){return(0,t.jsx)("button",{onClick:function(){return e("/search/".concat(encodeURIComponent(r.label)))},className:(0,g.Z)("rhyme-element btn btn-outline-primary",r.algorithmic?"secondary":""),children:r.label},n)}))})]}),(0,t.jsx)("div",{className:"right",children:i.map((function(r,n){return(0,t.jsx)(v,{onClick:function(){return e("/songs/".concat(r.songId))},data:r},n)}))})]})}P.styleTagTransform=I(),P.setAttributes=R(),P.insert=N().bind(null,"head"),P.domAPI=j(),P.insertStyleElement=k(),x()(E.Z,P),E.Z&&E.Z.locals&&E.Z.locals}}]);